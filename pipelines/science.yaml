description: Full 2D-DRP science pipeline
imports:
  - $DRP_STELLA_DIR/pipelines/reduceExposure.yaml
tasks:
  fitPfsFluxReference:
    class: pfs.drp.stella.fitPfsFluxReference.FitPfsFluxReferenceTask
  fitFluxCal:
    class: pfs.drp.stella.fitFluxCal.FitFluxCalTask
  preCoadd:
    class: pfs.drp.stella.coaddSpectra.PreCoaddTask
  coaddSpectra:
    class: pfs.drp.stella.coaddSpectra.CoaddSpectraTask

contracts:
  - preCoadd.doApplyFiberNorms == coaddSpectra.doApplyFiberNorms
